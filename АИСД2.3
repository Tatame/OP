#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <math.h>

int main(){
    int n=0, m=0;
    scanf("%d%d",&n,&m);
    int* buff=(int*)malloc(n*sizeof(int));
    int head=0, tail=0;
    int i=0, s=0, x=0, flag=0, sum=0, g=0;
    while (i<m){
        scanf("%d",&s);
        i++;
        if (s>0){
            for (int j=0; j<s; j++){
                scanf("%d",&x);
                g++;
                i++;
                if (((tail)%n==(head)%n)&&(tail!=head)){
                    if (flag==0) printf("Memory overflow\n");
                    flag=1;
                }
                if (flag==0){
                    buff[tail%n]=x;
                    tail++;

                }
                /*if ((tail%n==head%n)&&(g>1)) {
                    if (flag==0) printf("Memory overflow\n");
                    flag=1;
                }*/
            }
            flag=0;
        }
        else{
            //int r=s;
            int k=0;
            while (s!=0){
                if ((tail==head)||(g==0)) {
                    flag=1;
                    break;
                }
                //if (flag==0){
                    sum+=buff[head%n];
                    head++;
                    k++;
                //}
                s++;
            }
            //printf("(%d) ",sum);
            if (k!=0) printf("%d\n",sum/(k));
            //else printf("0\n");
            sum=0;
            if (flag) {
                printf("Empty queue\n");
                flag=0;
            }
        }
        /*printf("head %d tail %d\n",head%n,tail%n);
        for (int l=0; l<n; l++){
            printf("{%d} ",buff[l]);
        }
        printf("\n");*/
    }
    return 0;
}
// 5 16 2 1 -3 3 5 1 -4 -4 5 1 2 3 4 5 -3 -3
